jQuery((function(e){e("#loadmore").click((function(){return e.ajax({url:query_params.ajaxurl,data:{action:"loadmore",query:query_params.posts,page:query_params.current_page},type:"POST",beforeSend:function(a){e("#loadmore").text("Loading...")},success:function(a){a?(e("#loadmore").text("More Listings"),e("#response").append(a),query_params.current_page++,query_params.current_page==query_params.max_page&&e("#loadmore").hide()):(e("#loadmore").text("More Listings"),e("#loadmore").hide())}}),!1}));var a=!1;e("body.post-type-archive").length&&(a=!0),e("#page-wrapper").scroll((function(){var t={action:"loadmore",query:query_params.posts,page:query_params.current_page};e("#page-wrapper").scrollTop()>e("#response").height()-700&&1==a&&(console.log("made it to the thing!"),e.ajax({url:query_params.ajaxurl,data:t,type:"POST",beforeSend:function(t){e("#loadmore").text("Loading...").hide(),e(".loaderwrapper").show(),a=!1},success:function(t){t?(e("#loadmore").text("Show More").show(),e(".loaderwrapper").hide(),e("#response").append(t),query_params.current_page++,a=!0,query_params.current_page==query_params.max_page&&e("#loadmore").hide()):(e("#loadmore").text("Show More").hide(),e(".loaderwrapper").hide())}}))})),e("#filter").submit((function(){return e.ajax({url:query_params.ajaxurl,data:e("#filter").serialize().replace(/&?[^=]+=&|&[^=]+=$/g,""),dataType:"json",type:e("#filter").attr("method"),beforeSend:function(a){e("#filter").find("button").text("Processing..."),e("#response").html('<div style="text-align:center; width: 100%;"><center><img style="width:25px; height: 25px; margin:100px auto;" src="https://glad.aero/wp-content/themes/Glad/images/ajax-loader.gif"></center></div>')},success:function(a){query_params.current_page=1,query_params.posts=a.posts,query_params.max_page=a.max_page,e("#filter").find("button").text("Update"),e("#response").html(a.content),e("#response").addClass("ajaxed"),a.max_page<2?e("#loadmore").hide():e("#loadmore").show()}}),!1})),e(document).on("click",".opp-sidebar i",(function(){return e.ajax({url:query_params.ajaxurl,type:e("#searchform").attr("method"),dataType:"json",data:{action:"search",searchfield:e(this).attr("type"),posts:query_params.posts},beforeSend:function(a){e(query_params.output).html('<div style="text-align:center; width: 100%;"><center><img style="width:25px; height: 25px; margin:100px auto;" src="https://glad.aero/wp-content/themes/Glad/images/ajax-loader.gif"></center></div>')},success:function(a){e(query_params.output).html(a.content),e(query_params.output).addClass("ajaxed"),e("#loadmore").hide()}}),!1})),e(document).on("click",".opp-main",(function(){var a=e(this),t=e(this).attr("id");return e.ajax({url:query_params.ajaxurl,type:"POST",dataType:"json",data:{action:"expandpost",post:t},beforeSend:function(t){e(a).addClass("loading")},success:function(t){e("#postbox").html(t.content),e("#postbox").addClass("active"),e(a).removeClass("loading"),e("#page-wrapper").toggleClass("noscroll")}}),!1})),e(document).on("click",".closebox",(function(a){a.preventDefault(),e("#postbox").removeClass("active"),e("#page-wrapper").toggleClass("noscroll")})),e(document).on("click",(function(a){e(a.target).closest("#postbox .inner").length||e(a.target).closest(".closebox").length||e("#postbox").hasClass("active")&&(e("#postbox").removeClass("active"),e("#page-wrapper").toggleClass("noscroll"))}))}));