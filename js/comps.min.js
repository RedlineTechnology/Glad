jQuery((function(a){var e=!0;a(".sort_heading").click((function(t){if(t.preventDefault(),1==e){var o=a(this),p=o.attr("data-sort"),n=o.attr("id");a.ajax({url:"https://glada.aero/wp-admin/admin-ajax.php",crossDomain:!0,type:"POST",data:{action:"sortcomps",column:n,sort:p},dataType:"json",beforeSend:function(t){a(".table-wrapper").addClass("loading"),e=!1},success:function(t){"asc"==p?o.attr("data-sort","desc"):o.attr("data-sort","asc"),a(".table-wrapper").removeClass("loading"),a(".sort_heading").removeClass("active"),o.addClass("active"),a("#comps_table li:not(:first)").remove(),a("#comps_table").append(t.content),a(".comp_paginate").attr("data-page",t.page),a(".comp_paginate").removeClass("active"),t.page>1&&a(".comp_paginate#prev").addClass("active"),t.max_page>1&&t.max_page!=t.page&&a(".comp_paginate#next").addClass("active"),e=!0}})}})),a(".comp_paginate").click((function(t){if(t.preventDefault(),1==e){var o=a(this),p=o.attr("id"),n=o.attr("data-page"),s=a(".sort_heading.active");if(s.length>1)var r="default",c="asc";else c=s.attr("data-sort"),r=s.attr("id");a.ajax({url:"https://glada.aero/wp-admin/admin-ajax.php",crossDomain:!0,type:"POST",data:{action:"sortcomps",column:r,sort:c,page:n,dir:p},dataType:"json",beforeSend:function(t){a(".table-wrapper").addClass("loading"),e=!1},success:function(t){a(".table-wrapper").removeClass("loading"),a("#comps_table li:not(:first)").remove(),a("#comps_table").append(t.content),a(".comp_paginate").attr("data-page",t.page),a(".comp_paginate").removeClass("active"),t.page>1&&a(".comp_paginate#prev").addClass("active"),t.max_page>1&&t.max_page!=t.page&&a(".comp_paginate#next").addClass("active"),e=!0}})}})),a(document).on("click",".comp_inspect",(function(e){e.preventDefault();var t=a(this).attr("id");a.ajax({url:"https://glada.aero/wp-admin/admin-ajax.php",crossDomain:!0,type:"POST",data:{action:"getcomp",id:t},dataType:"json",beforeSend:function(e){a(".table-wrapper").addClass("loading")},success:function(e){a(".table-wrapper").removeClass("loading"),a(".fullcomp-wrapper").addClass("loaded"),a("#fullcomp").html(e.content)}})})),a(document).on("click","#fullcomp .close",(function(e){e.preventDefault(),a(".fullcomp-wrapper").removeClass("loaded")})),a(document).on("click",(function(e){var t=a("#fullcomp");t===event.target||t.has(event.target).length||a(".fullcomp-wrapper").hasClass("loaded")&&a(".fullcomp-wrapper").removeClass("loaded")}))}));